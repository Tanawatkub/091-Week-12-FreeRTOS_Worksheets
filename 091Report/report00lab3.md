# ЁЯза Week 12: ESP-IDF Basic Project and Environment Setup  
**р╕гр╕▓р╕вр╕Зр╕▓р╕Щр╣Вр╕Фр╕в:** Tanawat Putta (67030091)  
**р╕гр╕▓р╕вр╕зр╕┤р╕Кр╕▓:** Microcontroller Applications  

# тЪЩя╕П Lab 3: Cooperative vs Preemptive Comparison

## ЁЯОп р╕зр╕▒р╕Хр╕Цр╕╕р╕Ыр╕гр╕░р╕кр╕Зр╕Др╣М
р╣Ар╕Юр╕╖р╣Ир╕нр╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕Чр╕╡р╕вр╕Ър╕гр╕░р╕Ър╕Ъ **Cooperative Multitasking** р╣Бр╕ер╕░ **Preemptive Multitasking**  
р╣Вр╕Фр╕вр╕кр╕▒р╕Зр╣Ар╕Бр╕Хр╕Др╕зр╕▓р╕бр╣Бр╕Хр╕Бр╕Хр╣Ир╕▓р╕Зр╕Фр╣Йр╕▓р╕Щр╣Ар╕зр╕ер╕▓р╕Хр╕нр╕Ър╕кр╕Щр╕нр╕З (Response Time), р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ъ, р╣Бр╕ер╕░р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Чр╕гр╕▒р╕Юр╕вр╕▓р╕Бр╕г

---

## ЁЯФН р╕Др╕│р╕Хр╕нр╕Ър╕кр╕│р╕лр╕гр╕▒р╕Ър╕зр╕┤р╣Ар╕Др╕гр╕▓р╕░р╕лр╣М

### **1. р╕гр╕░р╕Ър╕Ър╣Др╕лр╕Щр╕бр╕╡р╣Ар╕зр╕ер╕▓р╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╕Фр╕╡р╕Бр╕зр╣Ир╕▓? р╣Ар╕Юр╕гр╕▓р╕░р╕нр╕░р╣Др╕г?**

**р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в:**  
- р╕гр╕░р╕Ър╕Ъ **Preemptive Multitasking** р╕бр╕╡р╣Ар╕зр╕ер╕▓р╕Хр╕нр╕Ър╕кр╕Щр╕нр╕З (Response Time) р╕Фр╕╡р╕Бр╕зр╣Ир╕▓р╕Кр╕▒р╕Фр╣Ар╕Ир╕Щ  
  р╣Ар╕Щр╕╖р╣Ир╕нр╕Зр╕Ир╕▓р╕Б RTOS р╕кр╕▓р╕бр╕▓р╕гр╕Ц **р╕Ър╕▒р╕Зр╕Др╕▒р╕Ър╕кр╕ер╕▒р╕Ъ (preempt)** р╣Гр╕лр╣Й Task р╕Чр╕╡р╣Ир╕бр╕╡ Priority р╕кр╕╣р╕Зр╕Бр╕зр╣Ир╕▓р╣Ар╕Вр╣Йр╕▓р╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡  
  р╣Вр╕Фр╕вр╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕гр╕нр╣Гр╕лр╣Й Task р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ тАЬр╕вр╕нр╕бтАЭ р╕Ыр╕ер╣Ир╕нр╕вр╣Ар╕зр╕ер╕▓р╣Гр╕лр╣Й (yield)  
- р╣Гр╕Щр╕Бр╕▓р╕гр╕Чр╕Фр╕ер╕нр╕З р╣Ар╕бр╕╖р╣Ир╕нр╕Бр╕Фр╕Ыр╕╕р╣Ир╕б Emergency  
  - Cooperative system р╕Ир╕░р╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╕ар╕▓р╕вр╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Б Task р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щр╣Ар╕кр╕гр╣Зр╕И тЖТ **р╕Фр╕╡р╣Ар╕ер╕вр╣М 50тАУ500ms**  
  - Preemptive system р╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╕Чр╕▒р╕Щр╕Чр╕╡ тЖТ **р╕ар╕▓р╕вр╣Гр╕Щ 5тАУ20ms**

**р╕кр╕гр╕╕р╕Ыр╕Ьр╕е:**  
> р╕гр╕░р╕Ър╕Ъ **Preemptive** р╕бр╕╡р╣Ар╕зр╕ер╕▓р╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╕Фр╕╡р╕Бр╕зр╣Ир╕▓ р╣Ар╕Юр╕гр╕▓р╕░ RTOS р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Бр╕Чр╕гр╕Бр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕Вр╕нр╕З Task р╣Др╕Фр╣Йр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤

---

### **2. р╕Вр╣Йр╕нр╕Фр╕╡р╕Вр╕нр╕З Cooperative Multitasking р╕Др╕╖р╕нр╕нр╕░р╣Др╕г?**

**р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в:**  
- р╣Бр╕Хр╣Ир╕ер╕░ Task р╣Ар╕Ыр╣Зр╕Щр╕Ьр╕╣р╣Йр╕Др╕зр╕Ър╕Др╕╕р╕бр╕Бр╕▓р╕гр╕кр╕ер╕▒р╕Ър╕Зр╕▓р╕Щр╣Ар╕нр╕З (Voluntary Yielding)  
- р╕Чр╕│р╣Гр╕лр╣Йр╕гр╕░р╕Ър╕Ър╕бр╕╡р╕Др╕зр╕▓р╕б **р╣Ар╕гр╕╡р╕вр╕Ър╕Зр╣Ир╕▓р╕в (Simple)** р╣Бр╕ер╕░ **р╣Гр╕Кр╣Йр╕Чр╕гр╕▒р╕Юр╕вр╕▓р╕Бр╕гр╕Щр╣Йр╕нр╕в**  
- р╣Др╕бр╣Ир╕бр╕╡р╕Бр╕▓р╕г preempt тЖТ **р╕Фр╕╡р╕Ър╕▒р╕Бр╕Зр╣Ир╕▓р╕вр╕Бр╕зр╣Ир╕▓** р╣Ар╕Юр╕гр╕▓р╕░р╣Др╕бр╣Ир╕бр╕╡ Task р╕Цр╕╣р╕Бр╕Вр╕▒р╕Фр╕Ир╕▒р╕Зр╕лр╕зр╕░р╕Бр╕ер╕▓р╕Зр╕Др╕▒р╕Щ  
- р╣Ар╕лр╕бр╕▓р╕░р╕Бр╕▒р╕Ър╕Зр╕▓р╕Щр╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г real-time strict р╣Ар╕Кр╣Ир╕Щ  
  - р╕гр╕░р╕Ър╕Ър╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕Чр╕▒р╣Ир╕зр╣Др╕Ы  
  - р╕Зр╕▓р╕Щр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕лр╕вр╕▒р╕Фр╕Юр╕ер╕▒р╕Зр╕Зр╕▓р╕Щр╕лр╕гр╕╖р╕нр╣Гр╕Кр╣Й CPU р╣Ар╕Юр╕╡р╕вр╕Зр╣Ар╕ер╣Зр╕Бр╕Щр╣Йр╕нр╕в

**р╕кр╕гр╕╕р╕Ы:**  
> Cooperative Multitasking р╕бр╕╡р╕Вр╣Йр╕нр╕Фр╕╡р╕Др╕╖р╕нр╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕гр╕╡р╕вр╕Ър╕Зр╣Ир╕▓р╕в р╣Гр╕Кр╣Йр╕лр╕Щр╣Ир╕зр╕вр╕Др╕зр╕▓р╕бр╕Ир╕│р╕Щр╣Йр╕нр╕в р╣Бр╕ер╕░р╕Фр╕╡р╕Ър╕▒р╕Бр╕Зр╣Ир╕▓р╕в

---

### **3. р╕Вр╣Йр╕нр╣Ар╕кр╕╡р╕вр╕Вр╕нр╕З Cooperative Multitasking р╕Др╕╖р╕нр╕нр╕░р╣Др╕г?**

**р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в:**  
- Task р╣Гр╕Фр╕Чр╕╡р╣И **р╣Др╕бр╣Ир╕вр╕нр╕б Yield (р╣Др╕бр╣Ир╕вр╕нр╕бр╕Ыр╕ер╣Ир╕нр╕вр╣Ар╕зр╕ер╕▓)** р╕Ир╕░р╕Чр╕│р╣Гр╕лр╣Йр╕Чр╕▒р╣Йр╕Зр╕гр╕░р╕Ър╕Ър╕лр╕вр╕╕р╕Фр╕гр╕н  
- р╣Ар╕зр╕ер╕▓р╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╕Вр╕нр╕Зр╣Ар╕лр╕Хр╕╕р╕Бр╕▓р╕гр╕Ур╣Мр╕Йр╕╕р╕Бр╣Ар╕Йр╕┤р╕Щ (р╣Ар╕Кр╣Ир╕Щ р╕Бр╕▓р╕гр╕Бр╕Фр╕Ыр╕╕р╣Ир╕б) **р╣Др╕бр╣Ир╣Бр╕Щр╣Ир╕Щр╕нр╕Щ (Non-deterministic)**  
- р╣Др╕бр╣Ир╣Ар╕лр╕бр╕▓р╕░р╕Бр╕▒р╕Ър╕Зр╕▓р╕Щр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╣Ар╕гр╣Зр╕зр╕лр╕гр╕╖р╕нр╕бр╕╡ Priority р╕Чр╕╡р╣Ир╕Кр╕▒р╕Фр╣Ар╕Ир╕Щ  
- р╕вр╕▓р╕Бр╕Хр╣Ир╕нр╕Бр╕▓р╕гр╕Др╕зр╕Ър╕Др╕╕р╕бр╣Ар╕бр╕╖р╣Ир╕нр╕бр╕╡ Task р╕Ир╕│р╕Щр╕зр╕Щр╕бр╕▓р╕Бр╕лр╕гр╕╖р╕нр╕Лр╕▒р╕Ър╕Лр╣Йр╕нр╕Щ

**р╕кр╕гр╕╕р╕Ы:**  
> р╕Вр╣Йр╕нр╣Ар╕кр╕╡р╕вр╕лр╕ер╕▒р╕Бр╕Др╕╖р╕нр╕гр╕░р╕Ър╕Ър╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕гр╕▒р╕Ър╕Ыр╕гр╕░р╕Бр╕▒р╕Щр╣Ар╕зр╕ер╕▓р╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╣Др╕Фр╣Й р╣Бр╕ер╕░р╕нр╕▓р╕Ир╣Ар╕Бр╕┤р╕Ф тАЬTask р╣Ар╕лр╣Зр╕Щр╣Бр╕Бр╣Ир╕Хр╕▒р╕зтАЭ р╕Чр╕╡р╣Ир╕Чр╕│р╣Гр╕лр╣Йр╕гр╕░р╕Ър╕Ър╕Чр╕▒р╣Йр╕Зр╕гр╕░р╕Ър╕Ър╕Кр╣Йр╕▓

---

### **4. р╣Гр╕Щр╕кр╕Цр╕▓р╕Щр╕Бр╕▓р╕гр╕Ур╣Мр╣Гр╕Фр╕Чр╕╡р╣И Cooperative р╕Ир╕░р╕Фр╕╡р╕Бр╕зр╣Ир╕▓ Preemptive?**

**р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в:**  
- р╣Ар╕лр╕бр╕▓р╕░р╕Бр╕▒р╕Ър╕Зр╕▓р╕Щр╕Чр╕╡р╣Ир╕бр╕╡ Task р╕Щр╣Йр╕нр╕в, р╣Др╕бр╣Ир╕бр╕╡р╣Ар╕лр╕Хр╕╕р╕Бр╕▓р╕гр╕Ур╣Мр╣Ар╕гр╣Ир╕Зр╕Фр╣Ир╕зр╕Щ р╣Бр╕ер╕░р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Др╕зр╕▓р╕бр╣Бр╕бр╣Ир╕Щр╕вр╕│р╣Ар╕гр╕╖р╣Ир╕нр╕Зр╣Ар╕зр╕ер╕▓  
- р╣Ар╕Кр╣Ир╕Щ:
  - р╕Зр╕▓р╕Щр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕▒р╣Ир╕зр╣Др╕Ы (Display/UI)
  - р╕Зр╕▓р╕Щр╕Др╕зр╕Ър╕Др╕╕р╕бр╣Ар╕гр╕╡р╕вр╕Ър╕Зр╣Ир╕▓р╕вр╣Гр╕Щр╕гр╕░р╕Ър╕Ър╕Эр╕▒р╕Зр╕Хр╕▒р╕зр╣Ар╕ер╣Зр╕Б р╣Ж
  - р╕гр╕░р╕Ър╕Ър╕Чр╕╡р╣Ир╕бр╕╡р╕Чр╕гр╕▒р╕Юр╕вр╕▓р╕Бр╕гр╕Ир╕│р╕Бр╕▒р╕Ф (р╣Ар╕Кр╣Ир╕Щ р╕лр╕Щр╣Ир╕зр╕вр╕Др╕зр╕▓р╕бр╕Ир╕│р╕Хр╣Ир╕│)
- р╣Ар╕Щр╕╖р╣Ир╕нр╕Зр╕Ир╕▓р╕Б Preemptive р╣Гр╕Кр╣Й RAM/Stack р╕бр╕▓р╕Бр╕Бр╕зр╣Ир╕▓ р╣Бр╕ер╕░ Debugging р╕Лр╕▒р╕Ър╕Лр╣Йр╕нр╕Щр╕Бр╕зр╣Ир╕▓

**р╕кр╕гр╕╕р╕Ы:**  
> Cooperative р╕Фр╕╡р╕Бр╕зр╣Ир╕▓р╣Ар╕бр╕╖р╣Ир╕нр╕гр╕░р╕Ър╕Ър╕бр╕╡р╕Чр╕гр╕▒р╕Юр╕вр╕▓р╕Бр╕гр╕Ир╕│р╕Бр╕▒р╕Ф, р╕Зр╕▓р╕Щр╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Др╕зр╕▓р╕бр╣Ар╕гр╣Зр╕зр╕кр╕╣р╕З р╣Бр╕ер╕░р╣Ар╕Щр╣Йр╕Щр╕Др╕зр╕▓р╕бр╕Зр╣Ир╕▓р╕вр╣Гр╕Щр╕Бр╕▓р╕гр╕Юр╕▒р╕Тр╕Щр╕▓

---

### **5. р╣Ар╕лр╕Хр╕╕р╣Гр╕Ф Preemptive р╕Ир╕╢р╕Зр╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ъ Real-time systems?**

**р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в:**  
- р╕гр╕░р╕Ър╕Ъ Real-time р╕Хр╣Йр╕нр╕З тАЬр╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╕Чр╕▒р╕Щр╣Ар╕зр╕ер╕▓ (Deterministic Response)тАЭ  
- Preemptive Multitasking р╕нр╕Щр╕╕р╕Нр╕▓р╕Хр╣Гр╕лр╣Й **Task р╕Чр╕╡р╣Ир╕кр╕│р╕Др╕▒р╕Нр╕Бр╕зр╣Ир╕▓р╣Бр╕Чр╕гр╕Бр╕Чр╕▒р╕Щр╕Чр╕╡**  
  р╣Ар╕Кр╣Ир╕Щ Emergency Task р╕Чр╕╡р╣Ир╕бр╕╡ Priority р╕кр╕╣р╕З  
- р╕Чр╕│р╣Гр╕лр╣Йр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕гр╕▒р╕Ър╕Ыр╕гр╕░р╕Бр╕▒р╕Щр╕зр╣Ир╕▓р╣Ар╕лр╕Хр╕╕р╕Бр╕▓р╕гр╕Ур╣Мр╕кр╕│р╕Др╕▒р╕Нр╕Ир╕░р╕Цр╕╣р╕Бр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕ар╕▓р╕вр╣Гр╕Щр╣Ар╕зр╕ер╕▓р╕Чр╕╡р╣Ир╕Бр╕│р╕лр╕Щр╕Ф  
- р╣Ар╕Ыр╣Зр╕Щр╕лр╕ер╕▒р╕Бр╕Бр╕▓р╕гр╕Вр╕нр╕З RTOS р╣Ар╕Кр╣Ир╕Щ FreeRTOS, VxWorks, Zephyr

**р╕кр╕гр╕╕р╕Ы:**  
> Preemptive р╣Ар╕лр╕бр╕▓р╕░р╕Бр╕▒р╕Ъ Real-time systems р╣Ар╕Юр╕гр╕▓р╕░р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Др╕зр╕Ър╕Др╕╕р╕бр╕ер╕│р╕Фр╕▒р╕Ър╕Др╕зр╕▓р╕бр╕кр╕│р╕Др╕▒р╕Нр╣Бр╕ер╕░р╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╣Ар╕лр╕Хр╕╕р╕Бр╕▓р╕гр╕Ур╣Мр╣Др╕Фр╣Й тАЬр╕Чр╕▒р╕Щр╣Ар╕зр╕ер╕▓р╣Ар╕кр╕бр╕нтАЭ

---

## ЁЯУК р╕кр╕гр╕╕р╕Ыр╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕Чр╕╡р╕вр╕Ър╕Ьр╕ер╕Бр╕▓р╕гр╕Чр╕Фр╕ер╕нр╕З

| р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤ | Cooperative Multitasking | Preemptive Multitasking |
|------------|--------------------------|--------------------------|
| **р╣Ар╕зр╕ер╕▓р╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╣Ар╕Йр╕ер╕╡р╣Ир╕в** | 50тАУ200 ms | 5тАУ20 ms |
| **р╣Ар╕зр╕ер╕▓р╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╕кр╕╣р╕Зр╕кр╕╕р╕Ф** | 500тАУ1000 ms | 50 ms |
| **р╕Др╕зр╕▓р╕бр╕Лр╕▒р╕Ър╕Лр╣Йр╕нр╕Щр╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ъ** | р╕Хр╣Ир╕│ | р╕кр╕╣р╕З |
| **р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Чр╕гр╕▒р╕Юр╕вр╕▓р╕Бр╕г (RAM/Stack)** | р╕Щр╣Йр╕нр╕в | р╕бр╕▓р╕Б |
| **р╕Др╕зр╕▓р╕бр╣Бр╕Щр╣Ир╕Щр╕нр╕Щ (Determinism)** | р╣Др╕бр╣Ир╕бр╕╡ | р╕бр╕╡ |
| **р╣Вр╕нр╕Бр╕▓р╕кр╣Ар╕Бр╕┤р╕Ф Delay р╕Ир╕▓р╕Б Task р╕нр╕╖р╣Ир╕Щ** | р╕кр╕╣р╕З | р╕Хр╣Ир╕│ |
| **р╕Др╕зр╕▓р╕бр╕Зр╣Ир╕▓р╕вр╣Гр╕Щр╕Бр╕▓р╕гр╕Юр╕▒р╕Тр╕Щр╕▓** | р╕Зр╣Ир╕▓р╕в | р╕вр╕▓р╕Б |
| **р╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ъ** | р╕Зр╕▓р╕Щр╕Чр╕▒р╣Ир╕зр╣Др╕Ы, UI, р╕гр╕░р╕Ър╕Ър╣Ар╕ер╣Зр╕Б | р╕гр╕░р╕Ър╕Ъ Real-time, Safety-critical |

---

## тЪЩя╕П р╕Бр╕▓р╕гр╕нр╕Шр╕┤р╕Ър╕▓р╕вр╕Юр╕др╕Хр╕┤р╕Бр╕гр╕гр╕бр╕гр╕░р╕Ър╕Ъ

### ЁЯФ╣ Cooperative System
- Task р╣Бр╕Хр╣Ир╕ер╕░р╕Хр╕▒р╕зр╕Ир╕░р╕Хр╣Йр╕нр╕З тАЬр╕вр╕нр╕бр╕Ыр╕ер╣Ир╕нр╕вр╣Ар╕зр╕ер╕▓тАЭ р╣Гр╕лр╣Й Task р╕нр╕╖р╣Ир╕Щр╕Чр╕│р╕Зр╕▓р╕Щр╣Ар╕нр╕З (`vTaskDelay()` р╕лр╕гр╕╖р╕н `return`)  
- р╕Цр╣Йр╕▓р╕бр╕╡ Task р╕лр╕Щр╕╢р╣Ир╕Зр╕Чр╕│р╕Зр╕▓р╕Щр╕Щр╕▓р╕Щр╣Ар╕Бр╕┤р╕Щр╣Др╕Ы р╣Ар╕Кр╣Ир╕Щ Processing Task тЖТ р╕гр╕░р╕Ър╕Ър╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕Ир╕░р╕Др╣Йр╕▓р╕Зр╕гр╕н  
- р╕Бр╕▓р╕гр╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╣Ар╕лр╕Хр╕╕р╕Бр╕▓р╕гр╕Ур╣М (р╣Ар╕Кр╣Ир╕Щ р╕Ыр╕╕р╣Ир╕б Emergency) р╕Ир╕░р╕ер╣Ир╕▓р╕Кр╣Йр╕▓  
- LED3 (Emergency) р╕Ир╕░р╕Хр╕┤р╕Фр╕Кр╣Йр╕▓р╣Ар╕бр╕╖р╣Ир╕нр╣Ар╕Чр╕╡р╕вр╕Ър╕Бр╕▒р╕Ъ LED1, LED2

### ЁЯФ╣ Preemptive System
- FreeRTOS р╕Ир╕░р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕кр╕ер╕▒р╕Ъ Task р╣Гр╕лр╣Йр╣Вр╕Фр╕вр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤  
- р╣Ар╕бр╕╖р╣Ир╕нр╕Бр╕Фр╕Ыр╕╕р╣Ир╕б тЖТ Task Emergency р╕Ир╕░ **р╣Бр╕Чр╕гр╕Бр╕Чр╕▒р╕Щр╕Чр╕╡** р╣Бр╕бр╣Й Task р╕нр╕╖р╣Ир╕Щр╕Бр╕│р╕ер╕▒р╕Зр╕Чр╕│р╕Зр╕▓р╕Щр╕нр╕вр╕╣р╣И  
- LED3 р╕Хр╕┤р╕Фр╕Чр╕▒р╕Щр╕Чр╕╡ р╣Бр╕кр╕Фр╕Зр╕Цр╕╢р╕Зр╕Бр╕▓р╕гр╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╣Бр╕Ър╕Ъ Real-time  
- р╣Ар╕лр╕бр╕▓р╕░р╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╣Бр╕Щр╣Ир╕Щр╕нр╕Щ р╣Ар╕Кр╣Ир╕Щ Sensor Control, Motor Safety

---

## ЁЯзй р╣Бр╕Ьр╕Щр╕ар╕▓р╕Юр╣Бр╕Щр╕зр╕Др╕┤р╕Ф

```text
Cooperative Multitasking (Task р╕Хр╣Йр╕нр╕Зр╕вр╕нр╕бр╕Бр╕▒р╕Щр╣Ар╕нр╕З)
--------------------------------------------------
[Task1] ----Yield----> [Task2] ----Yield----> [Task3]
         тЖС                                  тЖУ
   р╕Цр╣Йр╕▓ Task р╣Др╕бр╣И Yield -> р╕Чр╕▒р╣Йр╕Зр╕гр╕░р╕Ър╕Ър╕лр╕вр╕╕р╕Фр╕гр╕н

Preemptive Multitasking (RTOS р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Гр╕лр╣Й)
--------------------------------------------------
[Task1] <---- Scheduler ----> [Task2] <----> [Task3]
   тЖС                                   тЖС
   |                                   |
   тФФ---- Emergency Task р╣Бр╕Чр╕гр╕Бр╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡ ----тФШ
ЁЯз╛ р╕Ър╕Чр╕кр╕гр╕╕р╕Ы
р╕Бр╕▓р╕гр╕Чр╕Фр╕ер╕нр╕Зр╕Щр╕╡р╣Йр╣Бр╕кр╕Фр╕Зр╣Гр╕лр╣Йр╣Ар╕лр╣Зр╕Щр╕Др╕зр╕▓р╕бр╣Бр╕Хр╕Бр╕Хр╣Ир╕▓р╕Зр╕Чр╕╡р╣Ир╕кр╕│р╕Др╕▒р╕Нр╕гр╕░р╕лр╕зр╣Ир╕▓р╕З Cooperative р╣Бр╕ер╕░ Preemptive Multitasking

Preemptive р╣Гр╕лр╣Йр╣Ар╕зр╕ер╕▓р╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╕Фр╕╡р╕Бр╕зр╣Ир╕▓р╣Бр╕ер╕░р╣Бр╕Щр╣Ир╕Щр╕нр╕Щр╕Бр╕зр╣Ир╕▓ р╣Ар╕Юр╕гр╕▓р╕░ RTOS р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Бр╕Чр╕гр╕Бр╕Зр╕▓р╕Щр╕кр╕│р╕Др╕▒р╕Нр╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡

Cooperative р╣Гр╕Кр╣Йр╕Чр╕гр╕▒р╕Юр╕вр╕▓р╕Бр╕гр╕Щр╣Йр╕нр╕вр╣Бр╕ер╕░р╣Ар╕гр╕╡р╕вр╕Ър╕Зр╣Ир╕▓р╕в р╣Бр╕Хр╣Ир╣Др╕бр╣Ир╣Ар╕лр╕бр╕▓р╕░р╕Бр╕▒р╕Ър╕Зр╕▓р╕Щр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Др╕зр╕▓р╕бр╣Бр╕бр╣Ир╕Щр╕вр╕│р╕Фр╣Йр╕▓р╕Щр╣Ар╕зр╕ер╕▓

р╕Бр╕▓р╕гр╣Ар╕ер╕╖р╕нр╕Бр╣Гр╕Кр╣Йр╕нр╕вр╣Ир╕▓р╕Зр╣Ар╕лр╕бр╕▓р╕░р╕кр╕бр╕Вр╕╢р╣Йр╕Щр╕нр╕вр╕╣р╣Ир╕Бр╕▒р╕Ъ р╕ер╕▒р╕Бр╕йр╕Ур╕░р╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ъ:

р╕гр╕░р╕Ър╕Ър╕Вр╕Щр╕▓р╕Фр╣Ар╕ер╣Зр╕Б р╣Ар╕Щр╣Йр╕Щр╕Др╕зр╕▓р╕бр╕Зр╣Ир╕▓р╕в тЖТ Cooperative

р╕гр╕░р╕Ър╕Ъ Real-time р╕лр╕гр╕╖р╕н Safety-critical тЖТ Preemptive

ЁЯТб р╕кр╕гр╕╕р╕Ыр╣Бр╕Щр╕зр╕Др╕┤р╕Фр╕кр╕╕р╕Фр╕Чр╣Йр╕▓р╕в
р╕лр╕бр╕зр╕Ф	Cooperative	Preemptive
р╕лр╕ер╕▒р╕Бр╕Бр╕▓р╕г	Task р╕кр╕ер╕▒р╕Ър╕Зр╕▓р╕Щр╣Ар╕нр╕З (manual yield)	RTOS р╕Ър╕▒р╕Зр╕Др╕▒р╕Ър╕кр╕ер╕▒р╕Ър╕Зр╕▓р╕Щр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
р╕Бр╕▓р╕гр╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╣Ар╕лр╕Хр╕╕р╕Йр╕╕р╕Бр╣Ар╕Йр╕┤р╕Щ	р╕Кр╣Йр╕▓ (р╕Хр╣Йр╕нр╕Зр╕гр╕н)	р╕Чр╕▒р╕Щр╕Чр╕╡ (Priority-based)
р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕ер╕│р╕Фр╕▒р╕Ър╕Др╕зр╕▓р╕бр╕кр╕│р╕Др╕▒р╕Н	р╣Др╕бр╣Ир╕бр╕╡	р╕бр╕╡ Priority
р╕Др╕зр╕▓р╕бр╣Ар╕лр╕бр╕▓р╕░р╕кр╕б	р╕Зр╕▓р╕Щр╕Чр╕▒р╣Ир╕зр╣Др╕Ы, Display	р╕Зр╕▓р╕Щ Real-time, Control
р╕Бр╕▓р╕гр╕Фр╕╡р╕Ър╕▒р╕Б	р╕Зр╣Ир╕▓р╕в	р╕вр╕▓р╕Бр╕Бр╕зр╣Ир╕▓

р╕кр╕гр╕╕р╕Ы:
Cooperative р╣Ар╕лр╕бр╕▓р╕░р╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╣Ар╕ер╣Зр╕Бр╣Ар╕гр╕╡р╕вр╕Ър╕Зр╣Ир╕▓р╕в р╕кр╣Ир╕зр╕Щ Preemptive р╣Ар╕лр╕бр╕▓р╕░р╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Др╕зр╕▓р╕бр╣Бр╕Щр╣Ир╕Щр╕нр╕Щр╣Гр╕Щр╕Бр╕▓р╕гр╕Хр╕нр╕Ър╕кр╕Щр╕нр╕З р╣Ар╕Кр╣Ир╕Щ IoT Control, Robotics р╣Бр╕ер╕░ Safety Systems.